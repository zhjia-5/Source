<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>原生ajax</title>
</head>

<body>
    <script>
        var xhr = new XMLHttpRequest();
            //xhr.loadstart —— 上传开始。
            // progress —— 上传期间定期触发。
            // abort —— 上传中止。
            // error —— 非 HTTP 错误。
            // load —— 上传成功完成。
            // timeout —— 上传超时（如果设置了 timeout 属性）。
            // loadend —— 上传完成，无论成功还是 error。
        xhr.open('get', 'http://developer.duyiedu.com/edu/testAjaxCrossOrigin', true);
        xhr.onreadystatechange = function () {
            // readyState == 4 表示请求完成，已经接受到数据。
            // status == 200 网络请求，结果都会有一个状态码，来表示这个请求是否正常。
            // http状态码
            // 2**表示成功
            // 3**表示重定向
            // 4**表示客户端错误，404页面没找到
            // 5**表示服务端错误

            if (xhr.readyState == 4 && xhr.status == 200) {
                console.log(xhr.responseText);
                // 转为json格式  变为json对象
                console.log(JSON.parse(xhr.response));
            }
        }
        // open()方法的第三个参数如果为true或者不传没有表示为异步，如果为false表示为同步。
        xhr.send();
        console.log("++++++");//此处先打印“-----”后打印responseText。

    </script>
</body>

</html>